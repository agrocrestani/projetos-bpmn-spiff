<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:spiffworkflow="http://spiffworkflow.org/bpmn/schema/1.0/core" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_96f6665" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.0.0-dev">
  <bpmn:signal id="Signal_Corrige" name="Signal_Corrige">
    <bpmn:extensionElements>
      <spiffworkflow:variableName>corrigeNFe</spiffworkflow:variableName>
    </bpmn:extensionElements>
  </bpmn:signal>
  <bpmn:signal id="Signal_Termina" name="Signal_Termina">
    <bpmn:extensionElements>
      <spiffworkflow:variableName>termina</spiffworkflow:variableName>
    </bpmn:extensionElements>
  </bpmn:signal>
  <bpmn:collaboration id="Collaboration_1l3sbp2">
    <bpmn:participant id="Participant_1umes9o" processRef="Process_lanca_nfe_de_entrada_no_sap_mublbsr" />
    <bpmn:correlationKey id="CorrelationKey_16xzh9x" name="MainCorrelationKey" />
  </bpmn:collaboration>
  <bpmn:process id="Process_lanca_nfe_de_entrada_no_sap_mublbsr" isExecutable="true">
    <bpmn:laneSet id="LaneSet_1yf8zyi">
      <bpmn:lane id="Lane_1obgm3t">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1cvjv5f</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0qpzdpu</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0f6lo6t</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1rfm17d</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_147jun7</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0gf1z7e</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0svydkv</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0ho2ena</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0fmyuyg</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0m59st0</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0q3dw54</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0jos6vb</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0cqv02e</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0ihl7zd</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_12aihq1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1ldldn8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1nxoafm</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1269i6v</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_01bj24m</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1qd79lp</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0avudbq</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0gqeyfj" name="Matriz_Faturamento">
        <bpmn:flowNodeRef>Event_0u7jsdm</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0j775ky</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1vtqrmg</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0bhfm7o</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_17db3yp</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_17db3yp" sourceRef="StartEvent_1" targetRef="Gateway_1cvjv5f" />
    <bpmn:sequenceFlow id="Flow_12pkbxb" sourceRef="Activity_0qpzdpu" targetRef="Gateway_1269i6v" />
    <bpmn:sequenceFlow id="Flow_15eiieb" sourceRef="Activity_1vtqrmg" targetRef="Gateway_0f6lo6t" />
    <bpmn:sequenceFlow id="Flow_1iovkqx" sourceRef="Gateway_0f6lo6t" targetRef="Activity_1rfm17d" />
    <bpmn:sequenceFlow id="Flow_0it86pn" sourceRef="Activity_1rfm17d" targetRef="Gateway_147jun7" />
    <bpmn:sequenceFlow id="Flow_1ujq4vb" sourceRef="Activity_0gf1z7e" targetRef="Activity_0m59st0" />
    <bpmn:sequenceFlow id="Flow_12m7coi" sourceRef="Event_0bhfm7o" targetRef="Event_0u7jsdm" />
    <bpmn:sequenceFlow id="Flow_1tavrr8" sourceRef="Activity_0ho2ena" targetRef="Gateway_0jos6vb" />
    <bpmn:sequenceFlow id="Flow_182gsdh" sourceRef="Gateway_0jos6vb" targetRef="EndEvent_1" />
    <bpmn:sequenceFlow id="Flow_10pyopk" sourceRef="Gateway_0jos6vb" targetRef="Activity_0q3dw54">
      <bpmn:conditionExpression>baixaCantina == 1</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_05ngfh8" sourceRef="Activity_0q3dw54" targetRef="EndEvent_1" />
    <bpmn:sequenceFlow id="Flow_0p6y9yo" sourceRef="Event_1ldldn8" targetRef="Activity_0fmyuyg" />
    <bpmn:sequenceFlow id="Flow_1yjn9w8" sourceRef="Gateway_0svydkv" targetRef="Activity_0ho2ena" />
    <bpmn:sequenceFlow id="Flow_0yuxx4p" sourceRef="Event_1qd79lp" targetRef="Event_0avudbq" />
    <bpmn:sequenceFlow id="Flow_0kw5ffp" sourceRef="Activity_0m59st0" targetRef="Gateway_0svydkv" />
    <bpmn:sequenceFlow id="Flow_1g79fy7" sourceRef="Gateway_147jun7" targetRef="Activity_0gf1z7e" />
    <bpmn:sequenceFlow id="Flow_1bf2gfa" sourceRef="Gateway_147jun7" targetRef="Gateway_1cvjv5f">
      <bpmn:conditionExpression>rascunhoNaoLocalizado ==  True</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1cvjv5f">
      <bpmn:incoming>Flow_17db3yp</bpmn:incoming>
      <bpmn:incoming>Flow_1bf2gfa</bpmn:incoming>
      <bpmn:incoming>Flow_05vn16v</bpmn:incoming>
      <bpmn:outgoing>Flow_0gsgt3z</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0gsgt3z" sourceRef="Gateway_1cvjv5f" targetRef="Activity_0qpzdpu" />
    <bpmn:userTask id="Activity_0qpzdpu" name="Dados iniciais">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser># Aceite de NFe
Você deve conferir os itens fisicos x o itens da NFe. A execuçao desse processo lança a nota no SAP. A nota deve estar como rascunho no DFe/SAP.

Entre com as informações abaixo:
-----------


</spiffworkflow:instructionsForEndUser>
        <spiffworkflow:properties>
          <spiffworkflow:property name="formJsonSchemaFilename" value="dados-iniciais-schema.json" />
          <spiffworkflow:property name="formUiSchemaFilename" value="dados-iniciais-uischema.json" />
        </spiffworkflow:properties>
        <spiffworkflow:postScript>if len(str(U_ChaveAcesso)) == 44:
    tamanhoCorreto = 1
elif len(str(FederalTaxID)) &gt; 10 and len(str(FederalTaxID)) &lt;= 14:
    tamanhoCorreto = 1
else:
    tamanhoCorreto = 0</spiffworkflow:postScript>
        <spiffworkflow:preScript>U_ChaveAcesso = ""
FederalTaxID = ""
Serial = ""
baixaItensCantina = ""
</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0gsgt3z</bpmn:incoming>
      <bpmn:outgoing>Flow_12pkbxb</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0d0wx32" sourceRef="Event_1nxoafm" targetRef="Activity_0j775ky" />
    <bpmn:sequenceFlow id="Flow_19xz5h2" sourceRef="Activity_0fmyuyg" targetRef="Gateway_0cqv02e" />
    <bpmn:sequenceFlow id="Flow_1gxj815" sourceRef="Gateway_0cqv02e" targetRef="Gateway_0svydkv" />
    <bpmn:sequenceFlow id="Flow_1ndv6vv" sourceRef="Activity_0j775ky" targetRef="Gateway_0cqv02e" />
    <bpmn:sequenceFlow id="Flow_091snb4" sourceRef="Event_12aihq1" targetRef="Activity_0ihl7zd" />
    <bpmn:sequenceFlow id="Flow_1d2djka" sourceRef="Activity_0ihl7zd" targetRef="Activity_1vtqrmg" />
    <bpmn:exclusiveGateway id="Gateway_0f6lo6t" default="Flow_1iovkqx">
      <bpmn:incoming>Flow_15eiieb</bpmn:incoming>
      <bpmn:incoming>Flow_0oom33b</bpmn:incoming>
      <bpmn:outgoing>Flow_1iovkqx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:callActivity id="Activity_1rfm17d" name="Busca a nota no SAP" calledElement="Process_busca_rascunho_nfe_og4w5n9">
      <bpmn:extensionElements>
        <spiffworkflow:preScript />
        <spiffworkflow:postScript>if baixaItensCantina:
    baixaCantina = 1
else:
    baixaCantina = 0

try:
    from datetime import date

    DocEntry = nfeDraft['DocEntry']
    unidade = nfeDraft['BPLName']
    cnpjUnidade = nfeDraft['VATRegNum']
    numeroNota = nfeDraft['SequenceSerial']
    chaveAcesso = nfeDraft['U_ChaveAcesso']
    codigoFornecedor = nfeDraft['CardCode']
    nomeFornecedor = nfeDraft['CardName']
    cnpjFornecedor = nfeDraft['FederalTaxID']
    tipoRequisicao = nfeDraft['U_RSD_Aplicacao']
    usoPrincipal = nfeDraft['TaxExtension']['MainUsage']
    comprador = nfeDraft['SalesPersonCode']
    dataLancamento = str(date.today())
    dataEmissao = nfeDraft['TaxDate']
    dataVencimento = nfeDraft['DocDueDate']
    totalNota = nfeDraft['DocTotal']

    items = []
    for i in nfeDraftItems:
        items.append(
            {
                "Code": i['ItemCode'],
                "Description": i['ItemDescription'],
                "Quantity": i['Quantity'],
                "Price": i['Price'],
                "LineTotal": i['LineTotal'],
                "WhsCode": i['WarehouseCode'],
                "Custo": i['CostingCode'],
                "Cultura": i['CostingCode2'],
                "Safra": i['CostingCode3'],
                "AccountCode": i['AccountCode'],
                "ProjectCode": i['ProjectCode']
            }
        )

    del(i)
    del(nfeDraftItems)
except:
    baixaCantina = 0</spiffworkflow:postScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1iovkqx</bpmn:incoming>
      <bpmn:outgoing>Flow_0it86pn</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="Gateway_147jun7" default="Flow_1g79fy7">
      <bpmn:incoming>Flow_0it86pn</bpmn:incoming>
      <bpmn:outgoing>Flow_1g79fy7</bpmn:outgoing>
      <bpmn:outgoing>Flow_1bf2gfa</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_0gf1z7e" name="Confirmar o Aceite">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser># Dados da nota para dar Aceite


|Campo        |  Conteúdo   |
| --------------: | --------------- |
| Unidade                | {{unidade}}
| CNPJ da Unidade | {{cnpjUnidade}}
| Data Lancamento | {{dataLancamento}}
| Data Vencimento   | {{dataVencimento}}
| Data Emissao        | {{dataEmissao}}
| Numero da Nota   | {{numeroNota}}
| Chave                   | {{chaveAcesso}}
| Codigo Fornecedor | {{codigoFornecedor}}
| Nome Fornecedor | {{nomeFornecedor}}
| CNPJ Fornecedor | {{cnpjFornecedor}}
| Tipo Requisição    | {{tipoRequisicao}}
| Uso Principal        | {{usoPrincipal}}
| Comprador           | {{comprador}}
| Total da Nota        | {{totalNota}}

## Itens
|Código       | Descrição      | Quantidade | v. Unit.  | V. Total     | Depósito   | C. Custo | Cultura    | Safra    | Conta do Razao | Projeto        |
| ----------- | -------------- | ---------: | --------: | -----------: | ---------- | -------- | ---------- | -------- | -------------- | -------------- |
{%for i in items%}
|{{i['Code']}}|{{i['Description']}}|{{i['Quantity']}}|{{i['Price']}}|{{i['LineTotal']}}|{{i['WhsCode']}}|{{i['Custo']}}|{{i['Cultura']}}|{{i['Safra']}}|{{i['AccountCode']}}|{{i['ProjectCode']}}|
{%endfor%}
||||Total|{{totalNota}}</spiffworkflow:instructionsForEndUser>
        <spiffworkflow:properties>
          <spiffworkflow:property name="formJsonSchemaFilename" value="confirma-nfe-schema.json" />
          <spiffworkflow:property name="formUiSchemaFilename" value="confirma-nfe-uischema.json" />
        </spiffworkflow:properties>
        <spiffworkflow:postScript />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1g79fy7</bpmn:incoming>
      <bpmn:outgoing>Flow_1ujq4vb</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0svydkv" default="Flow_1yjn9w8">
      <bpmn:incoming>Flow_0kw5ffp</bpmn:incoming>
      <bpmn:incoming>Flow_1gxj815</bpmn:incoming>
      <bpmn:outgoing>Flow_1yjn9w8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_0ho2ena" name="Converter o rascunho">
      <bpmn:extensionElements>
        <spiffworkflow:serviceTaskOperator id="http/PostRequestV2" resultVariable="rspConverterRascunho">
          <spiffworkflow:parameters>
            <spiffworkflow:parameter id="url" type="str" value="url" />
            <spiffworkflow:parameter id="headers" type="any" value="headers" />
            <spiffworkflow:parameter id="data" type="any" value="payload" />
            <spiffworkflow:parameter id="basic_auth_username" type="str" />
            <spiffworkflow:parameter id="basic_auth_password" type="str" />
            <spiffworkflow:parameter id="verify" type="bool" />
          </spiffworkflow:parameters>
        </spiffworkflow:serviceTaskOperator>
        <spiffworkflow:preScript>loginSap = saplogin[0]['SessionId']

# Serial = 330
# LicTradNum = "F03284"


url = f"https://172.20.1.9:50000/b1s/v2/DraftsService_SaveDraftToDocument"

headers = {
  'Cookie': f"B1SESSION={loginSap}",
  'Content-Type': 'application/json'
}

payload = {
  "Document": {
        "DocEntry": DocEntry
    }
}</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1yjn9w8</bpmn:incoming>
      <bpmn:outgoing>Flow_1tavrr8</bpmn:outgoing>
      <bpmn:property id="Property_1ko8al0" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_0r9e1ag">
        <bpmn:sourceRef>DataStoreReference_1dw0b3m</bpmn:sourceRef>
        <bpmn:targetRef>Property_1ko8al0</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:serviceTask>
    <bpmn:manualTask id="Activity_0fmyuyg" name="Verificar Erro da Conversão">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser># Verificar erro ao converter NFe

|Campo | Conteudo |
| ---------- | ------------ |
| Codigo Erro | {{statusCode}}
| Mensagem  | {{mensagem}}</spiffworkflow:instructionsForEndUser>
        <spiffworkflow:preScript>try:
    if errorConverterRascunho:
        erroRascunho = json.loads(errorConverterRascunho['command_response_body'])
        erro = erroRascunho['body']['error']
        mensagem = erro['message']
        statusCode = erro['code']
except:
    mensagem = 'Erro não mapeado, por favor procure o TI'
    statusCode = '500'
</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0p6y9yo</bpmn:incoming>
      <bpmn:outgoing>Flow_19xz5h2</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:dataStoreReference id="DataStoreReference_1dw0b3m" name="SapLogin" dataStoreRef="saplogin" type="json" />
    <bpmn:callActivity id="Activity_0m59st0" name="Atualiza rascunho da NFe no SAP" calledElement="Process_atualiza_rascunho_danfe_no_sap_c6vyhzh">
      <bpmn:incoming>Flow_1ujq4vb</bpmn:incoming>
      <bpmn:outgoing>Flow_0kw5ffp</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:endEvent id="EndEvent_1">
      <bpmn:incoming>Flow_182gsdh</bpmn:incoming>
      <bpmn:incoming>Flow_05ngfh8</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:callActivity id="Activity_0q3dw54" name="Saída de estoque" calledElement="Process_inventorygenexits_alilvwv">
      <bpmn:extensionElements>
        <spiffworkflow:serviceTaskOperator id="http/PostRequestV2">
          <spiffworkflow:parameters>
            <spiffworkflow:parameter id="url" type="str" />
            <spiffworkflow:parameter id="headers" type="any" />
            <spiffworkflow:parameter id="data" type="any" />
            <spiffworkflow:parameter id="basic_auth_username" type="str" />
            <spiffworkflow:parameter id="basic_auth_password" type="str" />
            <spiffworkflow:parameter id="verify" type="bool" />
          </spiffworkflow:parameters>
        </spiffworkflow:serviceTaskOperator>
        <spiffworkflow:preScript>documentlines = []

for i in baixaItensCantina:
    documentlines.append({
        "ItemCode": i['ItemCode'],
        "Quantity": i['Quantity'],
        "WarehouseCode": i['WarehouseCode'],
        "CostingCode": i['CostingCode'],
        "CostingCode3": i['CostingCode3']
    })

payload = {
    "BPL_IDAssignedToInvoice": nfeDraft['BPL_IDAssignedToInvoice'],
    # "TaxDate": nfeDraft['TaxDate'],
    "U_RSD_Origem": 11, 
    "U_RSD_Aplicacao": 2,
    # "U_RSD_Fazenda": nfeDraft[''],
    "Comments": 'Baixa de estoque itens cantina',
    "DocumentLines": documentlines
}</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10pyopk</bpmn:incoming>
      <bpmn:outgoing>Flow_05ngfh8</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="Gateway_0jos6vb" default="Flow_182gsdh">
      <bpmn:incoming>Flow_1tavrr8</bpmn:incoming>
      <bpmn:outgoing>Flow_182gsdh</bpmn:outgoing>
      <bpmn:outgoing>Flow_10pyopk</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_0u7jsdm">
      <bpmn:incoming>Flow_12m7coi</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_0cqv02e">
      <bpmn:incoming>Flow_19xz5h2</bpmn:incoming>
      <bpmn:incoming>Flow_1ndv6vv</bpmn:incoming>
      <bpmn:outgoing>Flow_1gxj815</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:manualTask id="Activity_0j775ky" name="Verificar erro na conversão da NFe">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser># Verificar erro ao converter NFe

|Campo | Conteudo |
| ---------- | ------------ |
| Codigo Erro | {{statusCode}}
| Mensagem  | {{mensagem}}



# Dados da nota para dar Aceite


|Campo        |  Conteúdo   |
| --------------: | --------------- |
| Unidade                | {{unidade}}
| CNPJ da Unidade | {{cnpjUnidade}}
| Data Lancamento | {{dataLancamento}}
| Data Vencimento   | {{dataVencimento}}
| Data Emissao        | {{dataEmissao}}
| Numero da Nota   | {{numeroNota}}
| Chave                   | {{chaveAcesso}}
| Codigo Fornecedor | {{codigoFornecedor}}
| Nome Fornecedor | {{nomeFornecedor}}
| CNPJ Fornecedor | {{cnpjFornecedor}}
| Tipo Requisição    | {{tipoRequisicao}}
| Uso Principal        | {{usoPrincipal}}
| Comprador           | {{comprador}}
| Total da Nota        | {{totalNota}}

## Itens
|Código       | Descrição      | Quantidade | v. Unit.  | V. Total     | Depósito   | C. Custo | Cultura    | Safra    | Conta do Razao | Projeto        |
| ----------- | -------------- | ---------: | --------: | -----------: | ---------- | -------- | ---------- | -------- | -------------- | -------------- |
{%for i in items%}
|{{i['Code']}}|{{i['Description']}}|{{i['Quantity']}}|{{i['Price']}}|{{i['LineTotal']}}|{{i['WhsCode']}}|{{i['Custo']}}|{{i['Cultura']}}|{{i['Safra']}}|{{i['AccountCode']}}|{{i['ProjectCode']}}|
{%endfor%}
||||Total|{{totalNota}}</spiffworkflow:instructionsForEndUser>
        <spiffworkflow:preScript>from connectordb.sendEmail import send_email
id_instance = str(get_toplevel_process_info()['process_instance_id'])
get_id = get_current_task_info()['id']
get_url = get_frontend_url()
url = f"{get_url}/tasks/{id_instance}/{get_id}"

to_email = "faturamento@agrocrestani.com.br"
subject = f"Correção da NFe {numeroNota}"
title_email = "Correção da NFe {numeroNota}"
body_email = f"""
Prezado(a),

Foi solicitado a correção da nota fiscal Nº {numeroNota}, do fornecedor: {codigoFornecedor} - {nomeFornecedor}.

Por favor, clique no botão abaixo para visualizar os detalhes e verificar a correção solicitada.
"""
task_link = url


try:
    if errorConverterRascunho:
        erroRascunho = json.loads(errorConverterRascunho['command_response_body'])
        erro = erroRascunho['body']['error']
        mensagem = erro['message']
        statusCode = erro['code']
        to_email = "faturamento@agrocrestani.com.br"
        sendMail = send_email(to_email, subject, title_email, body_email, task_link)
        
except:
    mensagem = 'Erro não mapeado, por favor procure o TI'
    statusCode = '500'
    to_email = "ti@agrocrestani.com.br"
    sendMail = send_email(to_email, subject, title_email, body_email, task_link)</spiffworkflow:preScript>
        <spiffworkflow:postScript>del(errorConverterRascunho)</spiffworkflow:postScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0d0wx32</bpmn:incoming>
      <bpmn:outgoing>Flow_1ndv6vv</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:manualTask id="Activity_1vtqrmg" name="Verificar a NFe no SAP">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser># Verificar correção na NFe

|Observação:|
|  -------------- |
| {{observacao}}


# Dados da nota para dar Aceite
|Campo        |  Conteúdo   |
| --------------: | --------------- |
| Unidade                | {{unidade}}
| CNPJ da Unidade | {{cnpjUnidade}}
| Data Lancamento | {{dataLancamento}}
| Data Vencimento   | {{dataVencimento}}
| Data Emissao        | {{dataEmissao}}
| Numero da Nota   | {{numeroNota}}
| Chave                   | {{chaveAcesso}}
| Codigo Fornecedor | {{codigoFornecedor}}
| Nome Fornecedor | {{nomeFornecedor}}
| CNPJ Fornecedor | {{cnpjFornecedor}}
| Tipo Requisição    | {{tipoRequisicao}}
| Uso Principal        | {{usoPrincipal}}
| Comprador           | {{comprador}}
| Total da Nota        | {{totalNota}}

## Itens
|Código       | Descrição      | Quantidade | v. Unit.  | V. Total     | Depósito   | C. Custo | Cultura    | Safra    | Conta do Razao | Projeto        |
| ----------- | -------------- | ---------: | --------: | -----------: | ---------- | -------- | ---------- | -------- | -------------- | -------------- |
{%for i in items%}
|{{i['Code']}}|{{i['Description']}}|{{i['Quantity']}}|{{i['Price']}}|{{i['LineTotal']}}|{{i['WhsCode']}}|{{i['Custo']}}|{{i['Cultura']}}|{{i['Safra']}}|{{i['AccountCode']}}|{{i['ProjectCode']}}|
{%endfor%}
||||Total|{{totalNota}}</spiffworkflow:instructionsForEndUser>
        <spiffworkflow:preScript>from connectordb.sendEmail import send_email

id_instance = str(get_toplevel_process_info()['process_instance_id'])
get_id = get_current_task_info()['id']
get_url = get_frontend_url()
url = f"{get_url}/tasks/{id_instance}/{get_id}"

to_email = "faturamento@agrocrestani.com.br"
subject = f"Correção da NFe {numeroNota}"
title_email = "Correção da NFe {numeroNota}"
body_email = f"""
Prezado(a),

Foi solicitado a correção da nota fiscal Nº {numeroNota}, do fornecedor: {codigoFornecedor} - {nomeFornecedor}.

Por favor, clique no botão abaixo para visualizar os detalhes e verificar a correção solicitada.
"""
task_link = url

sendMail = send_email(to_email, subject, title_email, body_email, task_link)</spiffworkflow:preScript>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1d2djka</bpmn:incoming>
      <bpmn:outgoing>Flow_15eiieb</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:userTask id="Activity_0ihl7zd" name="Observação para correção">
      <bpmn:extensionElements>
        <spiffworkflow:properties>
          <spiffworkflow:property name="formJsonSchemaFilename" value="observacao-corrige-schema.json" />
          <spiffworkflow:property name="formUiSchemaFilename" value="observacao-corrige-uischema.json" />
        </spiffworkflow:properties>
        <spiffworkflow:instructionsForEndUser># Observação para correção</spiffworkflow:instructionsForEndUser>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_091snb4</bpmn:incoming>
      <bpmn:outgoing>Flow_1d2djka</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="Event_12aihq1" attachedToRef="Activity_0gf1z7e">
      <bpmn:documentation>.</bpmn:documentation>
      <bpmn:extensionElements>
        <spiffworkflow:signalButtonLabel>Corrigir NFe</spiffworkflow:signalButtonLabel>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_091snb4</bpmn:outgoing>
      <bpmn:signalEventDefinition id="SignalEventDefinition_0xm9nhr" signalRef="Signal_Corrige" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_1ldldn8" attachedToRef="Activity_0ho2ena">
      <bpmn:outgoing>Flow_0p6y9yo</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1qy26kt" errorRef="Error_Converter_Rascunho" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_1nxoafm" attachedToRef="Activity_0fmyuyg">
      <bpmn:extensionElements>
        <spiffworkflow:signalButtonLabel>Acionar Faturamento</spiffworkflow:signalButtonLabel>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_0d0wx32</bpmn:outgoing>
      <bpmn:signalEventDefinition id="SignalEventDefinition_0whzsas" signalRef="Signal_Conversao" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_0bhfm7o" attachedToRef="Activity_1vtqrmg">
      <bpmn:extensionElements>
        <spiffworkflow:signalButtonLabel>Terminar o processo</spiffworkflow:signalButtonLabel>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_12m7coi</bpmn:outgoing>
      <bpmn:signalEventDefinition id="SignalEventDefinition_1flpyhy" signalRef="Signal_Termina" />
    </bpmn:boundaryEvent>
    <bpmn:exclusiveGateway id="Gateway_1269i6v" default="Flow_0oom33b">
      <bpmn:incoming>Flow_12pkbxb</bpmn:incoming>
      <bpmn:outgoing>Flow_0oom33b</bpmn:outgoing>
      <bpmn:outgoing>Flow_0p12rhk</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0oom33b" sourceRef="Gateway_1269i6v" targetRef="Gateway_0f6lo6t" />
    <bpmn:sequenceFlow id="Flow_0p12rhk" sourceRef="Gateway_1269i6v" targetRef="Activity_01bj24m">
      <bpmn:conditionExpression>tamanhoCorreto == 0</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:manualTask id="Activity_01bj24m" name="mensagem verificar dados iniciais">
      <bpmn:extensionElements>
        <spiffworkflow:instructionsForEndUser>### A quantidade de caracteres no CNPJ/CPF ou na Chave de Acesso estão incorretos. Por favor verifique.</spiffworkflow:instructionsForEndUser>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0p12rhk</bpmn:incoming>
      <bpmn:outgoing>Flow_05vn16v</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:sequenceFlow id="Flow_05vn16v" sourceRef="Activity_01bj24m" targetRef="Gateway_1cvjv5f" />
    <bpmn:boundaryEvent id="Event_1qd79lp" attachedToRef="Activity_0qpzdpu">
      <bpmn:outgoing>Flow_0yuxx4p</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1h1wfst">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">"PT12H"</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="Event_0avudbq">
      <bpmn:incoming>Flow_0yuxx4p</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:dataStore id="saplogin" name="JSONDataStore" />
  <bpmn:error id="Error_Converter_Rascunho" name="Error_Converter_Rascunho">
    <bpmn:extensionElements>
      <spiffworkflow:variableName>errorConverterRascunho</spiffworkflow:variableName>
    </bpmn:extensionElements>
  </bpmn:error>
  <bpmn:error id="Error_Saida_de_Estoque" name="Error_Saida_de_Estoque">
    <bpmn:extensionElements>
      <spiffworkflow:variableName>erroSaidaEstoque</spiffworkflow:variableName>
    </bpmn:extensionElements>
  </bpmn:error>
  <bpmn:signal id="Signal_Conversao" name="Signal_Conversao">
    <bpmn:extensionElements>
      <spiffworkflow:variableName>verificaConversao</spiffworkflow:variableName>
    </bpmn:extensionElements>
  </bpmn:signal>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1l3sbp2">
      <bpmndi:BPMNShape id="Participant_1umes9o_di" bpmnElement="Participant_1umes9o" isHorizontal="true">
        <dc:Bounds x="129" y="60" width="2231" height="660" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0gqeyfj_di" bpmnElement="Lane_0gqeyfj" isHorizontal="true">
        <dc:Bounds x="159" y="490" width="2201" height="230" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1obgm3t_di" bpmnElement="Lane_1obgm3t" isHorizontal="true">
        <dc:Bounds x="159" y="60" width="2201" height="430" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="179" y="159" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1cvjv5f_di" bpmnElement="Gateway_1cvjv5f" isMarkerVisible="true">
        <dc:Bounds x="275" y="152" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_178gxaf_di" bpmnElement="Activity_0qpzdpu">
        <dc:Bounds x="400" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0f6lo6t_di" bpmnElement="Gateway_0f6lo6t" isMarkerVisible="true">
        <dc:Bounds x="835" y="152" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ap65jt_di" bpmnElement="Activity_1rfm17d">
        <dc:Bounds x="950" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_147jun7_di" bpmnElement="Gateway_147jun7" isMarkerVisible="true">
        <dc:Bounds x="1105" y="152" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zpbjir_di" bpmnElement="Activity_0gf1z7e">
        <dc:Bounds x="1210" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0svydkv_di" bpmnElement="Gateway_0svydkv" isMarkerVisible="true">
        <dc:Bounds x="1575" y="152" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_14ji67n_di" bpmnElement="Activity_0ho2ena">
        <dc:Bounds x="1710" y="137" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_10m480q_di" bpmnElement="Activity_0fmyuyg">
        <dc:Bounds x="1710" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1dw0b3m_di" bpmnElement="DataStoreReference_1dw0b3m">
        <dc:Bounds x="1655" y="245" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1657" y="302" width="47" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1n8hk1e_di" bpmnElement="Activity_0m59st0">
        <dc:Bounds x="1380" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14za570_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="2152" y="159" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1bx17tg_di" bpmnElement="Activity_0q3dw54">
        <dc:Bounds x="1980" y="250" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1soutk6_di" bpmnElement="Gateway_0jos6vb" isMarkerVisible="true">
        <dc:Bounds x="1875" y="152" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0u7jsdm_di" bpmnElement="Event_0u7jsdm">
        <dc:Bounds x="1342" y="652" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0cqv02e_di" bpmnElement="Gateway_0cqv02e" isMarkerVisible="true">
        <dc:Bounds x="1575" y="335" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0jp71kr_di" bpmnElement="Activity_0j775ky">
        <dc:Bounds x="1710" y="560" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ru3cc6_di" bpmnElement="Activity_1vtqrmg">
        <dc:Bounds x="1210" y="550" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1shk57p_di" bpmnElement="Activity_0ihl7zd">
        <dc:Bounds x="1210" y="290" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1269i6v_di" bpmnElement="Gateway_1269i6v" isMarkerVisible="true">
        <dc:Bounds x="575" y="152" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ww6qwb_di" bpmnElement="Activity_01bj24m">
        <dc:Bounds x="550" y="330" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00bas0a_di" bpmnElement="Event_0avudbq">
        <dc:Bounds x="432" y="272" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16dq5q9_di" bpmnElement="Event_0bhfm7o">
        <dc:Bounds x="1272" y="612" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19xh2cs_di" bpmnElement="Event_1nxoafm">
        <dc:Bounds x="1742" y="382" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1kyzkpn_di" bpmnElement="Event_1ldldn8">
        <dc:Bounds x="1742" y="199" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0hoyxza_di" bpmnElement="Event_12aihq1">
        <dc:Bounds x="1242" y="199" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_107r03x_di" bpmnElement="Event_1qd79lp">
        <dc:Bounds x="432" y="199" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_17db3yp_di" bpmnElement="Flow_17db3yp">
        <di:waypoint x="215" y="177" />
        <di:waypoint x="275" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12pkbxb_di" bpmnElement="Flow_12pkbxb">
        <di:waypoint x="500" y="177" />
        <di:waypoint x="575" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15eiieb_di" bpmnElement="Flow_15eiieb">
        <di:waypoint x="1210" y="600" />
        <di:waypoint x="860" y="600" />
        <di:waypoint x="860" y="202" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1iovkqx_di" bpmnElement="Flow_1iovkqx">
        <di:waypoint x="885" y="177" />
        <di:waypoint x="950" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0it86pn_di" bpmnElement="Flow_0it86pn">
        <di:waypoint x="1050" y="177" />
        <di:waypoint x="1105" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ujq4vb_di" bpmnElement="Flow_1ujq4vb">
        <di:waypoint x="1310" y="177" />
        <di:waypoint x="1380" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12m7coi_di" bpmnElement="Flow_12m7coi">
        <di:waypoint x="1290" y="648" />
        <di:waypoint x="1290" y="670" />
        <di:waypoint x="1342" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tavrr8_di" bpmnElement="Flow_1tavrr8">
        <di:waypoint x="1810" y="177" />
        <di:waypoint x="1875" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_182gsdh_di" bpmnElement="Flow_182gsdh">
        <di:waypoint x="1925" y="177" />
        <di:waypoint x="2152" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10pyopk_di" bpmnElement="Flow_10pyopk">
        <di:waypoint x="1900" y="202" />
        <di:waypoint x="1900" y="290" />
        <di:waypoint x="1980" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05ngfh8_di" bpmnElement="Flow_05ngfh8">
        <di:waypoint x="2080" y="290" />
        <di:waypoint x="2170" y="290" />
        <di:waypoint x="2170" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p6y9yo_di" bpmnElement="Flow_0p6y9yo">
        <di:waypoint x="1760" y="235" />
        <di:waypoint x="1760" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yjn9w8_di" bpmnElement="Flow_1yjn9w8">
        <di:waypoint x="1625" y="177" />
        <di:waypoint x="1710" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yuxx4p_di" bpmnElement="Flow_0yuxx4p">
        <di:waypoint x="450" y="235" />
        <di:waypoint x="450" y="272" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kw5ffp_di" bpmnElement="Flow_0kw5ffp">
        <di:waypoint x="1480" y="177" />
        <di:waypoint x="1575" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1g79fy7_di" bpmnElement="Flow_1g79fy7">
        <di:waypoint x="1155" y="177" />
        <di:waypoint x="1210" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bf2gfa_di" bpmnElement="Flow_1bf2gfa">
        <di:waypoint x="1130" y="152" />
        <di:waypoint x="1130" y="80" />
        <di:waypoint x="300" y="80" />
        <di:waypoint x="300" y="152" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gsgt3z_di" bpmnElement="Flow_0gsgt3z">
        <di:waypoint x="325" y="177" />
        <di:waypoint x="400" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0d0wx32_di" bpmnElement="Flow_0d0wx32">
        <di:waypoint x="1760" y="418" />
        <di:waypoint x="1760" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19xz5h2_di" bpmnElement="Flow_19xz5h2">
        <di:waypoint x="1710" y="360" />
        <di:waypoint x="1625" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gxj815_di" bpmnElement="Flow_1gxj815">
        <di:waypoint x="1600" y="335" />
        <di:waypoint x="1600" y="202" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ndv6vv_di" bpmnElement="Flow_1ndv6vv">
        <di:waypoint x="1710" y="600" />
        <di:waypoint x="1600" y="600" />
        <di:waypoint x="1600" y="385" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_091snb4_di" bpmnElement="Flow_091snb4">
        <di:waypoint x="1260" y="235" />
        <di:waypoint x="1260" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d2djka_di" bpmnElement="Flow_1d2djka">
        <di:waypoint x="1260" y="370" />
        <di:waypoint x="1260" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0oom33b_di" bpmnElement="Flow_0oom33b">
        <di:waypoint x="625" y="177" />
        <di:waypoint x="835" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p12rhk_di" bpmnElement="Flow_0p12rhk">
        <di:waypoint x="600" y="202" />
        <di:waypoint x="600" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05vn16v_di" bpmnElement="Flow_05vn16v">
        <di:waypoint x="550" y="370" />
        <di:waypoint x="300" y="370" />
        <di:waypoint x="300" y="202" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0r9e1ag_di" bpmnElement="DataInputAssociation_0r9e1ag">
        <di:waypoint x="1698" y="245" />
        <di:waypoint x="1718" y="217" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
